<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                xmlns:pe="http://primefaces.org/ui/extensions"
                template="/pages/freyatemplate/template.xhtml">

    <ui:define name="content">
        <h:form id="manufacturerForm" enctype="multipart/form-data">

            <ui:fragment>
                <div class="ui-g ui-g-12 ui-md-12 ui-lg-nopad">
                    <div class="ui-g-12 ui-md-12 ui-lg-12 NoMargin">

                        <div class="card card-w-title" style="width: 100%;height: 100%">
                            <div class="ui-g-12 ui-md-12 ui-lg-12">
                                <p:tabView>
                                    <p:tab title="Manufacturer Bio">
                                        <p:fieldset style="margin-bottom:20px">
                                            <div class="ui-g-12 ui-md-12 ui-lg-12" style="margin-bottom:20px">
                                                <div class="ui-g-12 ui-md-12 ui-lg-12">

                                                    <h:outputText value="Company Name" style="font-size: 18px;" />
                                                    <span style="color: red"> * </span> 

                                                    <p:inputText required="true" 
                                                                 value="#{manufacturerForm.model.companyName}"
                                                                 style="padding: 10px;margin-bottom: 2%; font-size: 20px; width: 95%" />
                                                </div>
                                                <div class="ui-g-12 ui-md-12 ui-lg-6" >
                                                    <h:outputText value="Physical Address" style="font-size: 18px;" />
                                                    <span style="color: red"> * </span> 

                                                    <p:inputText required="false"

                                                                 value="#{manufacturerForm.model.location}"
                                                                 style="padding: 10px;margin-bottom: 2%; font-size: 20px; width: 90%" /><br/>

                                                </div>

                                                <div class="ui-g-12 ui-md-12 ui-lg-6" >
                                                    <h:outputText value="Postal Address" style="font-size: 18px;" />
                                                    <span style="color: red"> * </span> 

                                                    <p:inputText required="false"

                                                                 value="#{manufacturerForm.model.postalAddress}"
                                                                 style="padding: 10px;margin-bottom: 2%; font-size: 20px; width: 90%" /><br/>

                                                </div>
                                                <div class="ui-g-12 ui-md-12 ui-lg-3" >
                                                    <h:outputText value="Phone Number" style="font-size: 18px;" />
                                                    <span style="color: red"> * </span><br/>

                                                    <p:inputText  required="true"
                                                                  value="#{manufacturerForm.model.phoneNumber}"
                                                                  style="padding: 10px;margin-bottom: 2%; font-size: 20px; width: 90%" />


                                                </div>
                                                <div class="ui-g-12 ui-md-12 ui-lg-3" >
                                                    <h:outputText value="Email address" style="font-size: 18px;" />
                                                    <span style="color: red"> * </span><br/>

                                                    <p:inputText placeholder="Email" required="true"
                                                                 value="#{manufacturerForm.model.emailAddress}"
                                                                 style="padding: 10px;margin-bottom: 2%; font-size: 20px; width: 90%" />


                                                </div>

                                                <div class="ui-g-12 ui-md-12 ui-lg-3" >
                                                    <h:outputText value="Registration Number" style="font-size: 18px;" />
                                                    <span style="color: red"> * </span><br/>

                                                    <p:inputText placeholder="reg no" required="false"
                                                                 value="#{manufacturerForm.model.registrationNumber}"
                                                                 style="padding: 10px;margin-bottom: 2%; font-size: 20px; width: 90%" />


                                                </div>

                                                <div class="ui-g-12 ui-md-12 ui-lg-3" >
                                                    <h:outputText value="Registration Date" style="font-size: 18px;" />
                                                    <span style="color: red"> * </span><br/>

                                                    <p:calendar  required="false"
                                                                 value="#{manufacturerForm.model.registrationDate}"
                                                                 inputStyle="padding: 10px;margin-bottom: 2%; font-size: 20px; width: 80%" />


                                                </div>


                                                <div class="ui-g-12 ui-md-12 ui-lg-3 " style="margin-left: auto" >
                                                    <h:outputText value="Sector" style="font-size: 18px;" />
                                                    <span style="color: red"> * </span><br/>
                                                    <p:selectOneMenu  value="#{manufacturerForm.model.sector}" id="sector" 
                                                                      converter="sectorConverter" var="sector"
                                                                      styleClass="Wid100" required="true" effect="fade"
                                                                      filter="true"  style="padding: 10px;margin-bottom: 2%; font-size: 20px; width: 90%" 
                                                                      filterMatchMode="startsWith">
                                                        <f:selectItem itemLabel="Select sector"
                                                                      itemValue="#{null}" />
                                                        <f:selectItems value="#{manufacturerForm.sectors}" var="sector"
                                                                       itemLabel="#{sector}" itemValue="#{sector}" />
                                                        <p:column>
                                                            <h:outputText value="#{sector}" />
                                                        </p:column>
                                                    </p:selectOneMenu>
                                                </div>
                                            </div>
                                        </p:fieldset>
                                        <p:fieldset legend="Contact Person" style="margin-bottom:20px" >

                                            <div class="ui-g-12 ui-md-12 ui-lg-12">

                                                <div class="ui-g-12 ui-md-12 ui-lg-4" >
                                                    <h:outputText value="Name" style="font-size: 18px;" />
                                                    <span style="color: red"> * </span> 

                                                    <p:inputText required="false"
                                                                 value="#{manufacturerForm.model.contactPersonName}"
                                                                 style="padding: 10px;margin-bottom: 2%; font-size: 20px; width: 90%" /><br/>

                                                </div>
                                                <div class="ui-g-12 ui-md-12 ui-lg-4" >
                                                    <h:outputText value="PhoneNumber" style="font-size: 18px;" />
                                                    <span style="color: red"> * </span><br/>

                                                    <p:inputText  required="false"
                                                                  value="#{manufacturerForm.model.contactPersonPhoneNumber}"
                                                                  style="padding: 10px;margin-bottom: 2%; font-size: 20px; width: 90%" />


                                                </div>
                                                <div class="ui-g-12 ui-md-12 ui-lg-4" >
                                                    <h:outputText value="EmailAddress" style="font-size: 18px;" />
                                                    <span style="color: red"> * </span><br/>

                                                    <p:inputText placeholder="Email" required="false"
                                                                 value="#{manufacturerForm.model.contactPersonEmailAddress}"
                                                                 style="padding: 10px;margin-bottom: 2%; font-size: 20px; width: 90%" />


                                                </div>
                                            </div>

                                        </p:fieldset>
                                    </p:tab>   


                                    <p:tab title="Finacial Performance">
                                        <p:fieldset style="margin-bottom:20px">
                                            <div class="ui-g-12 ui-md-12 ui-lg-12">

                                                <p:dataTable value="#{manufacturerForm.model.companySizes}" var="companySize" id="companySizesTable"
                                                             rowIndexVar="row" widgetVar="companySizesTable" >

                                                    <p:column headerText="#">
                                                        <h:outputText value="#{row + 1}" />
                                                    </p:column>


                                                    <p:column headerText="Year" >
                                                        <p:inputText id="size_year" required="false" placeholder="2021"
                                                                     value="#{companySize.year}"  style="width: 90%"
                                                                     styleClass="wid100 table-edit-text LeftAlign">
                                                            <p:ajax  
                                                                update="companySizesTable" />
                                                        </p:inputText>
                                                    </p:column>

                                                    <p:column headerText="Currency" >
                                                        <p:inputText id="size_employees" required="false" readonly="true"
                                                                     value="UGX"  style="width: 90%" placeholder="UGX"
                                                                     styleClass="wid100 table-edit-text LeftAlign">
                                                            <p:ajax  
                                                                update="companySizesTable" />
                                                        </p:inputText>
                                                    </p:column>

                                                    <p:column headerText="Turnover" >
                                                        <p:inputText id="size_turnover" required="false" placeholder="0"
                                                                     value="#{companySize.turnOver}"  style="width: 90%"
                                                                     styleClass="wid100 table-edit-text LeftAlign">
                                                            <p:ajax  
                                                                update="companySizesTable" />
                                                        </p:inputText>
                                                    </p:column>



                                                    <p:column headerText="Action"  >
                                                        <p:commandLink value="Remove" update="companySizesTable" actionListener="#{manufacturerForm.model.removeCompanySize(companySize)}">

                                                        </p:commandLink>
                                                    </p:column>

                                                </p:dataTable>
                                                <p:commandButton id="add_company_size" value="Add Record" actionListener="#{manufacturerForm.addCompanySize()}" update="companySizesTable" ></p:commandButton>

                                            </div>
                                        </p:fieldset>

                                    </p:tab>


                                    <p:tab title="Certifications">
                                        <p:fieldset style="margin-bottom:20px">
                                            <div class="ui-g-12 ui-md-12 ui-lg-12">

                                                <p:dataTable value="#{manufacturerForm.model.certifications}" var="certification" id="certificationsTable"
                                                             rowIndexVar="row" widgetVar="certificationsTable" >

                                                    <p:column headerText="#">
                                                        <h:outputText value="#{row + 1}" />
                                                    </p:column>



                                                    <p:column headerText="Name/Title" >
                                                        <p:inputText id="cert_name" required="false"
                                                                     value="#{certification.name}"  style="width: 90%"
                                                                     styleClass="wid100 table-edit-text LeftAlign">
                                                            <p:ajax  
                                                                update="certificationsTable" />
                                                        </p:inputText>
                                                    </p:column>

                                                    <p:column headerText="Number" >
                                                        <p:inputText id="cert_number" required="false"
                                                                     value="#{certification.number}"  style="width: 90%"
                                                                     styleClass="wid100 table-edit-text LeftAlign">
                                                            <p:ajax  
                                                                update="certificationsTable" />
                                                        </p:inputText>
                                                    </p:column>

                                                    <p:column headerText="Expiry Date" >
                                                        <p:calendar id="expiry_date" required="false"  style="width: 90%"
                                                                    value="#{certification.expiryDate}" inputStyle="width: 90%"
                                                                    styleClass="wid100 table-edit-text LeftAlign">
                                                            <p:ajax  
                                                                update="certificationsTable" />
                                                        </p:calendar>
                                                    </p:column>

                                                    <p:column headerText="Action"  >
                                                        <p:commandLink value="Remove" update="certificationsTable" actionListener="#{manufacturerForm.model.removeCompanySize(certification)}">

                                                        </p:commandLink>
                                                    </p:column>

                                                </p:dataTable>
                                                <p:commandButton id="add_certification" value="Add Record" actionListener="#{manufacturerForm.addCertification()}" update="certificationsTable" ></p:commandButton>

                                            </div>
                                        </p:fieldset>

                                    </p:tab>


                                    <p:tab title="Production Chain">
                                        <p:fieldset style="margin-bottom:20px">
                                            <div class="ui-g-12 ui-md-12 ui-lg-12">

                                                <p:dataTable value="#{manufacturerForm.model.productionChains}" var="productionChain" id="productionChainsTable"
                                                             rowIndexVar="row" widgetVar="productionChainsTable" >

                                                    <p:column headerText="#">
                                                        <h:outputText value="#{row + 1}" />
                                                    </p:column>



                                                    <p:column headerText="Product" >
                                                        <p:inputText id="product" required="false"
                                                                     value="#{productionChain.product}"  style="width: 90%"
                                                                     styleClass="wid100 table-edit-text LeftAlign">
                                                            <p:ajax  
                                                                update="productionChainsTable" />
                                                        </p:inputText>
                                                    </p:column>

                                                    <p:column headerText="Year" >
                                                        <p:inputText id="year" required="false"
                                                                     value="#{productionChain.year}"  style="width: 90%"
                                                                     styleClass="wid100 table-edit-text LeftAlign">
                                                            <p:ajax  
                                                                update="productionChainsTable" />
                                                        </p:inputText>
                                                    </p:column>

                                                    <p:column headerText="Qty" >
                                                        <p:inputText id="qty" required="false"  style="width: 90%"
                                                                     value="#{productionChain.quantity}" 
                                                                     styleClass="wid100 table-edit-text LeftAlign">
                                                            <p:ajax  
                                                                update="productionChainsTable" />
                                                        </p:inputText>
                                                    </p:column>

                                                    <p:column headerText="Distributer" >
                                                        <p:inputText id="distributer" required="false"  style="width: 90%"
                                                                     value="#{productionChain.distributer}" 
                                                                     styleClass="wid100 table-edit-text LeftAlign">
                                                            <p:ajax  
                                                                update="productionChainsTable" />
                                                        </p:inputText>
                                                    </p:column>
                                                    <p:column headerText="Location" >
                                                        <p:inputText id="location" required="false"  style="width: 90%"
                                                                     value="#{productionChain.location}" 
                                                                     styleClass="wid100 table-edit-text LeftAlign">
                                                            <p:ajax  
                                                                update="productionChainsTable" />
                                                        </p:inputText>
                                                    </p:column>

                                                    <p:column headerText="Action"  >
                                                        <p:commandLink value="Remove" update="productionChainsTable" actionListener="#{manufacturerForm.model.removeProductionChain(productionChain)}">

                                                        </p:commandLink>
                                                    </p:column>

                                                </p:dataTable>
                                                <p:commandButton id="add_production_chain" value="Add Record" actionListener="#{manufacturerForm.addProductionChain()}" update="productionChainsTable" ></p:commandButton>

                                            </div>

                                        </p:fieldset>
                                    </p:tab>

                                    <p:tab title="Human Resource">
                                        <p:fieldset style="margin-bottom:20px">
                                            <div class="ui-g-12 ui-md-12 ui-lg-12">

                                                <p:dataTable value="#{manufacturerForm.model.humanResources}" var="humanResource" id="humanResourcesTable"
                                                             rowIndexVar="row" widgetVar="humanResourcesTable" >

                                                    <p:column headerText="#">
                                                        <h:outputText value="#{row + 1}" />
                                                    </p:column>



                                                    <p:column headerText="Profession" >
                                                        <p:inputText id="size_turnover" required="false"
                                                                     value="#{humanResource.profession}"  style="width: 90%"
                                                                     styleClass="wid100 table-edit-text LeftAlign">
                                                            <p:ajax  
                                                                update="humanResourcesTable" />
                                                        </p:inputText>
                                                    </p:column>




                                                    <p:column headerText="Gender" >


                                                        <p:selectOneMenu  value="#{humanResource.gender}" id="gender" 
                                                                          converter="genderConverter" var="gender"
                                                                          styleClass="Wid100" required="false" effect="fade"
                                                                          filter="true"  style="width: 80%" 
                                                                          filterMatchMode="startsWith">
                                                            <f:selectItem itemLabel="Select Gender"
                                                                          itemValue="#{null}" />
                                                            <f:selectItems value="#{manufacturerForm.genders}" var="gender"
                                                                           itemLabel="#{gender}" itemValue="#{gender}" />
                                                            <p:column>
                                                                <h:outputText value="#{gender}" />
                                                            </p:column>
                                                            <p:ajax  
                                                                update="humanResourcesTable" />
                                                        </p:selectOneMenu>
                                                    </p:column>

                                                    <p:column headerText="No of Employees" >
                                                        <p:inputText id="no_of_employees" required="false"  style="width: 90%"
                                                                     value="#{humanResource.number}" 
                                                                     styleClass="wid100 table-edit-text LeftAlign">
                                                            <p:ajax  
                                                                update="humanResourcesTable" />
                                                        </p:inputText>
                                                    </p:column>

                                                    <p:column headerText="Action"  >
                                                        <p:commandLink value="Remove" update="humanResourcesTable" actionListener="#{manufacturerForm.model.removeHumanResource(humanResource)}">

                                                        </p:commandLink>
                                                    </p:column>

                                                </p:dataTable>
                                                <p:commandButton id="add_human_resource" value="Add Record" actionListener="#{manufacturerForm.addHumanResource()}" update="humanResourcesTable" ></p:commandButton>

                                            </div>
                                        </p:fieldset>

                                    </p:tab>
                                </p:tabView>
                            </div>
                            <div class="ui-g-12 ui-md-12 ui-lg-12" >
                                <div class="ui-g-12 ui-md-12 ui-lg-1" style="margin-right: 1%">

                                    <p:commandButton icon="fa fa-save" value="Save" id="saveBtn"
                                                     styleClass="green-btn" validateClient="true"
                                                     action="#{manufacturerForm.save}"
                                                     update="manufacturerForm" />

                                </div>
                                <div class="ui-g-12 ui-md-12 ui-lg-1">
                                    <p:button value="Back" styleClass="red-btn"
                                              icon="fa fa-backward" 
                                              outcome="#{manufacturerForm.parentView}" />
                                </div>

                            </div>


                        </div>
                        <p:blockUI block="manufacturerForm" trigger="saveBtn">
                            <p:graphicImage value="/resources/images/workingicon.png" />
                        </p:blockUI>

                    </div>
                </div>
            </ui:fragment>
        </h:form>


    </ui:define>
</ui:composition>