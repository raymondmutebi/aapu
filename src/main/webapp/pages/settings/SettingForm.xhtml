<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/pages/freyatemplate/template.xhtml">

    <ui:define name="content">
        <div class="ui-g ui-fluid">
            <div class="ui-g-12">
                <ui:fragment rendered="#{!componentRenderer.administrator}">
                    <div class="ui-g ui-fluid">
                        <div class="ui-g-12">
                            <div class="exception-topbar">
                                <h:link styleClass="logo">
                                    <p:graphicImage library="freya-layout" />
                                </h:link>
                            </div>

                            <div class="exception-panel">
                                <!--                                <p:graphicImage styleClass="exception-icon"
                                                                                name="images/icon-access.png" library="freya-layout" />-->
                                <h1 class="exception-summary">Access Denied</h1>
                                <p class="exception-detail">
                                    You don't have the necessary permissions.<br></br> Contact the
                                    administrator for more information.
                                </p>
                            </div>

                        </div>
                    </div>
                </ui:fragment>

                <h:form id="appSettingForm"
                        rendered="#{ (componentRenderer.administrator) }">

                    <div class="card card-w-title" >

                        <h4>Adjust system settings</h4>


                    </div>

                    <div class="card card-w-title" >
                      
                        <p:tabView id="tab" >
                            
                            <p:tab  id="general" title="General">
                                <div class="p-grid ">
                                    <div class="p-col-12 p-md-12 p-lg-6">

                                        <h:outputLabel for="rgef" 
                                                       value="Registartion fee"/>

                                        <p:inputNumber required="true"  id="regf" decimalPlaces="0"
                                                     value="#{appSettingForm.model.registartionFee}" 
                                                      />

                                    </div>
                               
                                    <div class="p-col-12 p-md-12 p-lg-6">

                                        <h:outputLabel for="subf" style="font-size: 18px;"  
                                                       value="Subscription fee"/>

                                        <p:inputNumber  id="subf" decimalPlaces="0"
                                                     value="#{appSettingForm.model.subscriptionFee}" 
                                                     maxlength="20" />

                                    </div>
                                    
                                      <div class="p-col-12 p-md-12 p-lg-6">

                                        <h:outputLabel for="wpp" style="font-size: 18px;"  
                                                       value="Wordpress posts endpoint"/>

                                        <p:inputText  id="wpp" 
                                                     value="#{appSettingForm.model.postEndpoint}" 
                                                      />

                                    </div>
                                </div>
                            </p:tab>
                            <p:tab id="egoSms" title="Ego sms">
                                <div class="p-grid ">
                                    <div class="p-col-12 p-md-12 p-lg-6">

                                        <h:outputLabel for="egu" style="font-size: 18px;"  
                                                       value="Url"/>

                                        <p:inputText  id="egu"
                                                     value="#{appSettingForm.model.egosmsUrl}" 
                                                  />

                                    </div>

                                    <div class="p-col-12 p-md-12 p-lg-6">

                                        <h:outputLabel for="egn" style="font-size: 18px;"  
                                                       value="User name"/>
                                        <div class="ui-inputgroup">
                                            <p:inputText  id="egn"
                                                         value="#{appSettingForm.model.egoSmsApiUsername}" 
                                                         maxlength="20" />
                                        </div>
                                    </div>

                                    <div class="p-col-12 p-md-12 p-lg-6">

                                        <h:outputLabel for="egp" style="font-size: 18px;"  
                                                       value="Password"/>

                                        <p:inputText id="egp"
                                                     value="#{appSettingForm.model.egoSmsApiPassword}" 
                                                     />

                                    </div>
                                 
                                </div>
                            </p:tab>
                            <p:tab id="mail" title="Mail settings">
                                <div class="p-grid">
                                    <div class="p-col-12 p-md-12 p-lg-6">
                                        <h:outputLabel for="sea" value="Sender Email address"
                                                       style="font-size: 18px;" />
                                        <p:inputText required="true" id="sea"
                                                     value="#{appSettingForm.model.smtpAddress}"/>
                                    </div>
                                    <div class="p-col-12 p-md-12 p-lg-6">
                                        <h:outputLabel for="sep" value="Sender Email password"
                                                       style="font-size: 18px;" />
                                        <p:inputText required="true" id="sep" rendered="#{true}"
                                                      value="#{appSettingForm.model.smtpPassword}"/>
                                    </div>

                                    <div class="p-col-12 p-md-12 p-lg-6">
                                        <h:outputLabel for="seh" value="Email smtp host" style="font-size: 18px;" />
                                        <p:inputText required="true" id="seh"
                                                     value="#{appSettingForm.model.smtpHost}"
                                                     />
                                    </div>
                                    <div class="p-col-12 p-md-12 p-lg-6">
                                        <h:outputLabel for="port" style="font-size: 18px;"  value="Email smtp port" />
                                        <p:inputText required="true" id="port"
                                                     value="#{appSettingForm.model.smtpPort}"
                                                     />
                                    </div>

                                    <div class="p-col-2">
                                        <p:commandButton icon="fa fa-save" value="Send test email" id="saveBtn3"
                                                         styleClass="primary-button" validateClient="true"
                                                         action="#{appSettingForm.sendTestEmail()}"
                                                         process="@this" />
                                    </div>
                                </div>

                            </p:tab>
                          
                        <p:tab id="flutter" title="Flutter settings">
                                <div class="p-grid">
                                    <div class="p-col-12 p-md-12 p-lg-6">
                                        <h:outputLabel for="fwpk" value="Pubic key"
                                                       style="font-size: 18px;" />
                                        <p:inputText required="true" id="fwpk"
                                                     value="#{appSettingForm.model.flutterwavePublicKey}"/>
                                    </div>
                                    <div class="p-col-12 p-md-12 p-lg-6">
                                        <h:outputLabel for="fwek" value="Enc key"
                                                       style="font-size: 18px;" />
                                        <p:inputText required="true" id="fwek" rendered="#{true}"
                                                      value="#{appSettingForm.model.flutterwaveEncryptionKey}"/>
                                    </div>

                                    <div class="p-col-12 p-md-12 p-lg-6">
                                        <h:outputLabel for="fwsk" value="Secret key" style="font-size: 18px;" />
                                        <p:inputText required="true" id="fwsk"
                                                     value="#{appSettingForm.model.flutterwaveSecretKey}"
                                                     />
                                    </div>
                                    <div class="p-col-12 p-md-12 p-lg-6">
                                        <h:outputLabel for="fwu" style="font-size: 18px;"  value="Wave url" />
                                        <p:inputText required="true" id="fwu"
                                                     value="#{appSettingForm.model.flutterwaveUrl}"
                                                     />
                                    </div>
                                    
                                      <div class="p-col-12 p-md-12 p-lg-6">
                                        <h:outputLabel for="fwru" style="font-size: 18px;"  value="Wave url" />
                                        <p:inputText required="true" id="fwru"
                                                     value="#{appSettingForm.model.flutterwaveReditectUrl}"
                                                     />
                                    </div>

                                  
                                </div>

                            </p:tab>
                          
                        </p:tabView>
                        <div class="p-grid p-justify-end">
                            <div class="p-col-2">
                                <p:commandButton icon="fa fa-save" value="Save" id="saveBtn2"
                                                 styleClass="primary-button"
                                                 process=":appSettingForm:tab:general :appSettingForm:tab:mail 
                                                 :appSettingForm:tab:egoSms :appSettingForm:tab:flutter @this"
                                                 validateClient="true"
                                                 action="#{appSettingForm.save}" />
                            </div>

                            <div class="p-col-2">
                                <p:button value="Back" styleClass="help-button"
                                          icon="fa fa-backward" 
                                          outcome="#{appSettingForm.parentView}" />
                            </div>
                        </div>
                    </div>

                  
                    <p:blockUI block="appSettingForm" trigger="saveBtn2">
                        <p:graphicImage value="/resources/images/workingicon.png" />
                    </p:blockUI>

                </h:form>
            </div>

        </div>
    </ui:define>
</ui:composition>