<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	template="/pages/freyatemplate/template.xhtml">

	<ui:define name="title">Email Template Form</ui:define>
	<ui:define name="viewname">Templates</ui:define>
	<ui:define name="content">
		<h:form id="emailTemplateForm">

			<div class="ui-g ui-fluid">
				<div class="ui-g-12 ui-lg-6">
					<!-- Left Side -->
					<div class="card card-w-title">
						<p:panelGrid columns="1" layout="grid"
							styleClass="ui-panelgrid-blank form-group">
							<label>Template Type</label>
							<p:selectOneMenu id="templateType" var="templateType"
								value="#{emailTemplateForm.model.templateType}"
								required="false" effect="fade"
								 filter="true" placeholder="Select template"
								 filterMatchMode="contains">
								<f:selectItem itemLabel="Select template type" itemValue="#{null}" />
								<f:selectItems value="#{emailTemplateForm.templateTypes}"
									var="templateType" itemLabel="#{templateType}" itemValue="#{templateType}" />
								<p:column>
									<h:outputText value="#{templateType.name}" />
								</p:column>
							</p:selectOneMenu>
							<h:panelGroup styleClass="md-inputfield">
								<label>The Email Message</label>
								<br />
								<br />
								<p:textEditor widgetVar="editor1"
									value="#{emailTemplateForm.model.template}" height="200" />
							</h:panelGroup>


							<p:panelGrid columns="8" layout="grid"
								styleClass="ui-panelgrid-blank form-group rightAlign">
								<p:commandButton id="saveBtn" action="#{emailTemplateForm.save}"
									onclick="setTimeout('document.getElementById(\'' + this.id + '\').disabled=true;', 50);"
									value="Save" update="emailTemplateForm" validateClient="true"
									icon="fa fa-save" styleClass="green-btn" />
								<p:button value="Back" styleClass="red-btn"
									icon="fa fa-backward" 
									outcome="#{emailTemplateView.viewPath}" />
							</p:panelGrid>


						</p:panelGrid>

					</div>
				</div>

				<div class="ui-g-12 ui-lg-6">
					<!-- Left Side -->
					<div class="card card-w-title">
						<h2>Choose from the wildcards below:</h2>
						<table border="1">
							<tr>
								<td>Wildcard</td>
								<td>Description</td>
								<td>Template Usage</td>
							</tr>

							<tr>
								<td>{fullName}</td>
								<td>Represents members full name</td>
								<td><b>Member Registration</b>, <b>Member Approval</b>, <b>Member Rejection</b></td>
							</tr>

							<tr>
								<td>{email}</td>
								<td>Represents members email</td>
								<td><b>Member Registration</b>, <b>Member Approval</b>, <b>Member Rejection</b></td>
							</tr>
							
							<tr>
								<td>{username}</td>
								<td>Represents username for a user</td>
								<td><b>Member Approval</b>, <b>UserAccount Registration</b>, <b>Reset Password</b></td>
							</tr>
							
							<tr>
								<td>{password}</td>
								<td>Represents password credentials for the church admin</td>
								<td><b>Member Approval</b>, <b>UserAccount Registration</b>, <b>Reset Password</b></td>
							</tr>
							
							<tr>
								<td>{code}</td>
								<td>Represents member verificationCode</td>
								<td><b>UserAccount Registration</b>, <b>Reset Password</b></td>
							</tr>
							
						</table>
					</div>
				</div>

			</div>
			<p:blockUI block="emailTemplateForm" trigger="saveBtn">
				<p:graphicImage value="/resources/images/workingicon.png" />
			</p:blockUI>
		</h:form>
	</ui:define>

</ui:composition>
